<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>FriendFinder Survey</title>

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">-->
    <script src="https://code.jquery.com/jquery.js"></script>
    <!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>-->
    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">-->
    <!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>

    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
</head>

<body>

    <div class="container">
        <h1>Survey Questions</h1>
        <br>
        <h5>Your name</h5>
        <input type="text" id="nameInput" class="form-control">
        <h5>Link to your picture</h5>
        <input type="text" id="photoInput" class="form-control">

        <!--Questions start here-->
        <!--Structure taken from Materialize-->
        <div id="survey">
            <h3><strong>Question 1</strong></h3>
            <h5> It is customary to tip when you pick up a to-go order from a nice restaurant. </h5>

            <div class="input-field col s12">
                <select required>
              <option value="" disabled selected>Choose your option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
            </div>

            <h3><strong>Question 2</strong></h3>
            <h5> You should always say "bless you" after someone sneezes. </h5>

            <div class="input-field col s12">
                <select required>
              <option value="" disabled selected>Choose your option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
            </div>

            <h3><strong>Question 3</strong></h3>
            <h5> If someone has food stuck in their teeth, it is rude not to inform them. </h5>

            <div class="input-field col s12">
                <select required>
              <option value="" disabled selected>Choose your option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
            </div>

            <h3><strong>Question 4</strong></h3>
            <h5> More often than not, saying goodbye is an arduous and complicated social exercise. </h5>

            <div class="input-field col s12">
                <select required>
              <option value="" disabled selected>Choose your option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
            </div>

            <h3><strong>Question 5</strong></h3>
            <h5> "Ironic" is the most abused and misused word in the English language. </h5>

            <div class="input-field col s12">
                <select required>
              <option value="" disabled selected>Choose your option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
            </div>

            <h3><strong>Question 6</strong></h3>
            <h5> You are spineless if you refuse to take a side in a political discussion. </h5>

            <div class="input-field col s12">
                <select required>
              <option value="" disabled selected>Choose your option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
            </div>

            <h3><strong>Question 7</strong></h3>
            <h5> Surveys are mostly flawed because most people don't really know themselves and therefore misrepresent their own true feelings. </h5>

            <div class="input-field col s12">
                <select required>
              <option value="" disabled selected>Choose your option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
            </div>

            <h3><strong>Question 8</strong></h3>
            <h5> Keeping up with friends is something I look forward to and genuinely enjoy. </h5>

            <div class="input-field col s12">
                <select required>
              <option value="" disabled selected>Choose your option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
            </div>

            <h3><strong>Question 9</strong></h3>
            <h5> Calling an old friend to catch up is much better than texting them. </h5>

            <div class="input-field col s12">
                <select required>
              <option value="" disabled selected>Choose your option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
            </div>

            <h3><strong>Question 10</strong></h3>
            <h5> Apples should always be washed before they are eaten. </h5>

            <div class="input-field col s12">
                <select required>
              <option value="" disabled selected>Choose your option</option>
              <option value="1">1 (Strongly Disagree)</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5 (Strongly Agree)</option>
            </select>
            </div>
        </div>
        <!--find friend button-->
        <div class="col s12 center-align">
            <div id="findFriendbtn" class="btn">Find my friend!</div>
        </div>

        <br>

        <!--modal goes here to display the best friend to the new friend-->
        <div class="col s12 center-align">
            <!-- Modal Trigger -->
            <a class="waves-effect waves-light btn modal-trigger" href="#modal1">View My Friend!</a>

            <!-- Modal Structure -->
            <div id="modal1" class="modal">
                <div id="bestFriend" class="modal-content">
                    <h4>You haven't found your best friend yet! Finish the survey and hit "Find my friend!" first!</h4>
                </div>
                <div class="modal-footer">
                    <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
                </div>
            </div>
        </div>


    </div>

    <footer class="bd-footer">
        <div class="container">
            <ul class="bd-footer-links">
                <li><a href="api/friends">API Friends List</a></li>
                <li><a href="https://github.com/tmiess/FriendFinder">Github Repo</a></li>
            </ul>
        </div>
    </footer>

    <script>
        // initialize dropdown input fields and modal
        $(document).ready(function() {
            $('select').material_select();
            $('.modal').modal({
                dismissible: true, // Modal can be dismissed by clicking outside of the modal
                opacity: .5, // Opacity of modal background
                inDuration: 300, // Transition in duration
                outDuration: 200, // Transition out duration
                startingTop: '4%', // Starting top style attribute
                endingTop: '10%', // Ending top style attribute
                ready: function(modal, trigger) { // Callback for Modal open. Modal and trigger parameters available.
                    console.log(modal, trigger);
                },
                complete: function() {} // Callback for Modal close
            });
        });


        $("#findFriendbtn").click(function() {
            event.preventDefault();
            ////////console.log tests/////////
            console.log("jquery connected");
            console.log($("#nameInput"));
            console.log($("#nameInput"));
            //////////////////////////////////

            var name = $("#nameInput").val().trim();
            var photo = $("#photoInput").val().trim();
            var answers = $("#survey select :selected");
            var surveyData = [];

            var newFriend = {
                "name": name,
                "photo": photo,
                "answers": answers
            };

            $.ajax({
                url: "/api/friends",
                method: "POST",
                data: newFriend,
                traditional: true
            }).done((res) => {
                $("#bestFriend").text(res.name);
            });
        });
    </script>
</body>



</html>
